"use strict";(self.webpackChunkfrontend_kapusta=self.webpackChunkfrontend_kapusta||[]).push([[503],{3338:function(e,n,t){t.d(n,{r8:function(){return v},hE:function(){return j},_u:function(){return B}});var a=t(8909),r=t(2791),c=t(5607),i="Logo_container__xT4eC",o="Logo_text__8lfDX",s=t(8206),l=t(184);function u(){return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(c.Z,{queries:{small:"(max-width: 767px)",medium:"(min-width: 768px) and (max-width: 1279px)",large:"(min-width: 1280px)"},children:function(e){return(0,l.jsxs)(r.Fragment,{children:[e.small&&(0,l.jsx)(s.Z,{iconName:"logo-mobile"}),e.medium&&(0,l.jsx)(s.Z,{iconName:"logo-tablet"}),e.large&&(0,l.jsx)(s.Z,{iconName:"logo"})]})}}),(0,l.jsx)("p",{className:o,children:"SMART FINANCE"})]})}var d="BackgroundAuth_wrapper__NRDbq",_="BackgroundAuth_decorSection__FYBvq",m="BackgroundAuth_loginSection__tQwEq",h="BackgroundAuth_container_mobile__NwxzO",p="BackgroundAuth_decorImageTop__Q8AGF",x="BackgroundAuth_decorImageBottom__-8iLn",b="BackgroundAuth_inner__RqJOk",f="BackgroundAuth_bounce__iN-D5",v=function(e){var n=e.children;return(0,l.jsx)("div",{className:d,children:(0,l.jsxs)("div",{className:_,children:[(0,l.jsx)("div",{className:p}),(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)("div",{className:b,children:[(0,l.jsx)("div",{className:h,children:(0,l.jsx)(u,{})}),(0,l.jsx)("div",{className:m,children:n})]}),(0,l.jsx)("div",{className:"".concat(f," ").concat(x)})]})]})})},g="BackgroundMobile_section__w9vlE",j=function(e){var n=e.children;return(0,l.jsx)("section",{className:g,children:n})},N="BackgroundReport_wrapper__DYLL1",k="BackgroundReport_decorSection__-cxhr",y="BackgroundReport_decorImageBottom__gLQ7X",B=function(e){var n=e.children;return(0,l.jsxs)("div",{className:N,children:[(0,l.jsx)("div",{className:k}),(0,l.jsx)(a.Z,{children:n}),(0,l.jsx)("div",{className:y})]})}},8685:function(e,n,t){t.d(n,{Z:function(){return h}});var a=t(885),r=t(2791),c=t(6030),i=t(6871),o={balance_form:"Balance_balance_form__bLBW1",balance_container:"Balance_balance_container__Z6J4+",balance_text:"Balance_balance_text__z-oYi",balance_input:"Balance_balance_input__QQjjc",balance_input_active:"Balance_balance_input_active__Hr5Mi",balance_input_report:"Balance_balance_input_report__Tcurf",balance_button:"Balance_balance_button__5gsk5",balance_button_active:"Balance_balance_button_active__Ctqus"},s="Notification_commentBubble__2KWlX",l="Notification_bubbleText__FBhZ8",u=t(184),d=function(e){var n=e.onClose;return(0,u.jsxs)("div",{className:s,onClick:function(e){e.currentTarget===e.target&&n()},children:["\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0432\u043d\u0435\u0441\u0438 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0447\u0435\u0442\u0430!",(0,u.jsx)("p",{className:l,children:"\u0422\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0448\u044c \u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438 \u043f\u043e\u043a\u0430 \u0438\u0445 \u0443 \u0442\u0435\u0431\u044f \u043d\u0435\u0442 :)"})]})},_=t(2015),m=t(3553);function h(e){var n=e.style,t=e.hide,s=(0,c.I0)(),l=(0,i.TH)(),h=(0,c.v9)(_.um.n3),p=(0,r.useState)(h),x=(0,a.Z)(p,2),b=x[0],f=x[1],v=(0,c.v9)(m.V),g=(0,r.useState)(!0),j=(0,a.Z)(g,2),N=j[0],k=j[1];(0,r.useEffect)((function(){s(_.r5.getUserBalance()),f(h)}),[v,s]);return(0,u.jsxs)("form",{className:"".concat(o.balance_form," ").concat(n),children:[(0,u.jsx)("label",{className:o.balance_text,children:"\u0411\u0430\u043b\u0430\u043d\u0441:"}),(0,u.jsxs)("div",{className:o.balance_container,children:[(0,u.jsx)("input",{onChange:function(e){var n=e.target.value;f(Number(n))},placeholder:h?"".concat(h,".00 UAH"):"00.00 UAH",className:"".concat(0===h?o.balance_input_active:o.balance_input," ").concat("/report"===l.pathname&&o.balance_input_report),disabled:0!==h&&"disabled"}),0===h&&N&&(0,u.jsx)(d,{onClose:function(){k((function(e){return!e}))}}),(0,u.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),!b||0===b)return console.log("\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f");s(_.r5.setUserBalance(b))},className:"".concat(0===h?o.balance_button_active:o.balance_button," ").concat(t),disabled:0!==h&&"disabled",children:"\u041f\u041e\u0414\u0422\u0412\u0415\u0420\u0414\u0418\u0422\u042c"})]})]})}},8909:function(e,n,t){t.d(n,{Z:function(){return c}});var a="Container_container__s6ZpQ",r=t(184);var c=function(e){var n=e.children;return(0,r.jsx)("div",{className:a,children:n})}},8163:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var a=t(5861),r=t(885),c=t(7757),i=t.n(c),o=t(2791),s=t(4569),l=t.n(s),u=t(5607),d=t(6030),_=t(6871),m={container:"ReportPage_container__R6owo",balance__style:"ReportPage_balance__style__f46um",button__balance:"ReportPage_button__balance__beex2",button__back:"ReportPage_button__back__l+fK+",button__name:"ReportPage_button__name__YQi3k",date__description:"ReportPage_date__description__PSe3f",datePicker__container:"ReportPage_datePicker__container__3Q1Dt",datePicker__button:"ReportPage_datePicker__button__5ZQhe"},h="DateField_decription__7ms+6",p=t(184),x=function(e){var n=e.thisYear,t=e.thisMonth;return(0,p.jsxs)("p",{className:h,children:[["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"][t]," ",n]})};var b=t.p+"static/media/sprite.19de4e2d6002ccecc66cecc5c077a1d0.svg",f=t(8206),v=t(4002),g=t(6373),j={coast:{food:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b",alcohol:"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u044c",activities:"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435",health:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435",transport:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",home_stuff:"\u0412\u0441\u0451 \u0434\u043b\u044f \u0434\u043e\u043c\u0430",gadgets:"\u0422\u0435\u0445\u043d\u0438\u043a\u0430",utility_bills:"\u041a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u043a\u0430, \u0421\u0432\u044f\u0437\u044c",hobbies:"\u0421\u043f\u043e\u0440\u0442, \u0425\u043e\u0431\u0431\u0438",education:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435",others:"\u041f\u0440\u043e\u0447\u0435\u0435"},income:{additional_income:"\u0414\u043e\u043f.\u0434\u043e\u0445\u043e\u0434",salary:"\u0417\u041f"}},N="reportCoact_container__PTxC-",k="reportCoact_nav__PWVWa",y="reportCoact_reportTitle__y8m3g",B="reportCoact_reportArrow__zSH3W",w="reportCoact_coastWrapper__1knvl",C="reportCoact_svg__4ltPv",Z="reportCoact_active__Iw+hM",R="reportCoact_card__UURTI",P="reportCoact_cardButton__rGAJg",A="reportCoact_cardTitle__3T371";function F(){var e=(0,o.useState)(!0),n=(0,r.Z)(e,2),t=n[0],a=n[1],c=(0,d.I0)(),i=(0,d.v9)((function(e){return e.balanceReducer})),s=i.sumByCategoryConsumption,l=i.sumByCategoryIncome,u=i.active,_=i.isLoading;(0,o.useEffect)((function(){var e,n;t&&s&&c((0,v.PR)(null===(e=s[0])||void 0===e?void 0:e.group));!t&&l&&c((0,v.PR)(null===(n=l[0])||void 0===n?void 0:n.group))}),[t,s,l]);var m=function(){a((function(e){return!e})),c((0,v.P8)(0))},h=function(e,n){c((0,v.P8)(n)),c((0,v.PR)(e.currentTarget.value))};return(0,p.jsx)("div",{className:N,children:_?(0,p.jsx)(g.gy,{color:"#ff751d"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)("button",{type:"button",className:B,onClick:m,children:(0,p.jsx)(f.Z,{iconName:"leftArrow"})}),(0,p.jsx)("h2",{className:y,children:t?"\u0420\u0430\u0441\u0445\u043e\u0434\u044b":"\u0414\u043e\u0445\u043e\u0434\u044b"}),(0,p.jsx)("button",{type:"button",className:B,onClick:m,children:(0,p.jsx)(f.Z,{iconName:"rightArrow"})})]}),(0,p.jsx)("ul",{className:w,children:t?(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((function(e,n){return(0,p.jsx)("li",{className:R,children:(0,p.jsxs)("button",{type:"button",className:P,value:null===e||void 0===e?void 0:e.group,onClick:function(e){return h(e,n)},children:[(0,p.jsxs)("p",{className:A,children:[e.totalCategory,".00"]}),(0,p.jsx)("svg",{className:n===u?Z:C,children:(0,p.jsx)("use",{href:b+"#"+(null===e||void 0===e?void 0:e.group)})}),(0,p.jsx)("p",{className:A,children:j.coast[null===e||void 0===e?void 0:e.group]})]})},null===e||void 0===e?void 0:e.group)})):(0,p.jsx)("h3",{children:"\u0417\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u043d\u0435\u0442 \u0440\u0430\u0441\u0441\u0445\u043e\u0434\u043e\u0432"}):(null===l||void 0===l?void 0:l.length)>0?null===l||void 0===l?void 0:l.map((function(e,n){return(0,p.jsx)("li",{className:R,children:(0,p.jsxs)("button",{type:"button",className:P,value:null===e||void 0===e?void 0:e.group,onClick:function(e){return h(e,n)},children:[(0,p.jsxs)("p",{className:A,children:[e.totalCategory,".00"]}),(0,p.jsx)("svg",{className:n===u?Z:C,children:(0,p.jsx)("use",{href:b+"#"+(null===e||void 0===e?void 0:e.group)})}),(0,p.jsx)("p",{className:A,children:j.income[null===e||void 0===e?void 0:e.group]})]})},null===e||void 0===e?void 0:e.group)})):(0,p.jsx)("h3",{children:"\u0417\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u043d\u0435\u0442 \u0434\u043e\u0445\u043e\u0434\u043e\u0432"})})]})})}var T=t(9869),D=t(4942),L="ReportChart_chartSection__nepq+",S=(t(1807),t(2436)),I=t(145),E=t(8292);function Q(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}E.kL.register(E.uw,E.f$,E.ZL,E.Dx,E.u,I.Z,E.De);var W=function(){var e,n,t=function(){var e=(0,o.useState)(Q()),n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,o.useEffect)((function(){function e(){a(Q())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}().width,a=(0,d.v9)((function(e){return e.balanceReducer})).sumDescription,c={maxBarThickness:38,barDatasetSpacing:10,barValueSpacing:0,indexAxis:"x",animation:{onComplete:function(){n=!0},delay:function(e){var t=0;return"data"!==e.type||"default"!==e.mode||n||(t=300*e.dataIndex+100*e.datasetIndex),t}},plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{align:function(e){return e.dataset.data[e.dataIndex]>0?"end":"start"},anchor:function(e){return e.dataset.data[e.dataIndex]>0?"end":"start"},borderRadius:4,color:"#52555F",formatter:function(e){return Math.round(e)+" \u0433\u0440\u043d"},padding:10}},scales:{x:{ticks:(e={autoSkip:!0},(0,D.Z)(e,"autoSkip",!0),(0,D.Z)(e,"maxRotation",0),(0,D.Z)(e,"minRotation",0),(0,D.Z)(e,"callback",(function(e,n){return function(e,n){for(var t=e.split(" "),a=[],r=[],c=0;c<t.length;c++){r.push(t[c]);var i=r.join(" ");i.length>n&&(a.push(i),r=[])}return r.length&&a.push(r.join(" ").trim()),a}(this.getLabelForValue(e),7)})),e),grid:{display:!1,lineWidth:2,drawBorder:!1,color:"#F5F6FB"}},y:{grid:{lineWidth:2,drawBorder:!1,drawTicks:!1,color:"#F5F6FB"},display:!0,ticks:{display:!1}}},layout:{padding:{top:35,bottom:0}},elements:{bar:{barWidth:605,borderRadius:10}}},i=t<650?{barThickness:15,maxBarThickness:50,minBarLength:30,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{anchor:"end",align:"right",offset:10,borderRadius:4,color:"#52555F",formatter:function(e){return Math.round(e)+" \u0433\u0440\u043d"},padding:0}},scales:{x:{grid:{display:!1,drawBorder:!1,drawTicks:!1},ticks:{display:!1}},y:{grid:{display:!1,drawBorder:!1,drawTicks:!1},display:!0,ticks:{mirror:!0,labelOffset:-20}}},layout:{padding:{top:5,bottom:10,left:-5,right:74}},elements:{bar:{borderRadius:10}}}:c,s=[],l=[];a&&a.slice().sort((function(e,n){return n.totalDescription-e.totalDescription})).forEach((function(e){s.push(e.group),l.push(e.totalDescription)}));var u={labels:[].concat(s),datasets:[{data:[].concat(l),backgroundColor:["#FF751D","#FFDAC0","#FFDAC0"],borderWidth:0}]};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:L,children:(0,p.jsx)(S.$Q,{options:i,data:u})})})},M=function(e){var n=e.category,t=e.month,c=e.year,s=(0,d.v9)((function(e){return e.balanceReducer})),u=s.data,_=(0,d.v9)(T.LP),m=(0,d.I0)(),h=(0,o.useState)(!1),x=(0,r.Z)(h,2),b=x[0],f=x[1],g=function(){var e=(0,a.Z)(i().mark((function e(n,t,a){var r,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer "+_}},e.prev=1,f(!0),e.next=5,l().get("/transaction/category/".concat(t+1,"/").concat(a,"/").concat(n),r);case 5:c=e.sent,m((0,v.Vj)(c.data)),f(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),f(!1),m((0,v.Tl)(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t,a){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){g(n,t,c)}),[n,t,c]),(0,o.useEffect)((function(){u&&m((0,v.iJ)(u.sumByCategory))}),[b]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(W,{})})},q=t(3338),V="ReportWrapper_container__L3DD4",U=function(e){var n=e.children;return(0,p.jsx)("div",{className:V,children:n})},z=t(8685),Y={section_balance:"reportBalance_section_balance__IoV-U",balance_item:"reportBalance_balance_item__L8Vv0",balance_item_expense:"reportBalance_balance_item_expense__1fMhQ",balance_item_income:"reportBalance_balance_item_income__rX0q+",balance_item_title:"reportBalance_balance_item_title__cUhjl"},H=function(){var e=(0,d.v9)((function(e){return e.balanceReducer})),n=e.income,t=e.consumption;return(0,p.jsxs)("div",{className:Y.section_balance,children:[(0,p.jsxs)("div",{className:Y.balance_item,children:[(0,p.jsx)("p",{className:Y.balance_item_title,children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,p.jsxs)("span",{className:"".concat(Y.balance_item_text," ").concat(Y.balance_item_expense),children:["- ",(null===t||void 0===t?void 0:t.length)>0?t[0].consumption:0,".00 \u0433\u0440\u043d."]})]}),(0,p.jsxs)("div",{className:Y.balance_item,children:[(0,p.jsx)("p",{className:Y.balance_item_title,children:"\u0414\u043e\u0445\u043e\u0434\u044b:"}),(0,p.jsxs)("span",{className:"".concat(Y.balance_item_text," ").concat(Y.balance_item_income),children:["+ ",(null===n||void 0===n?void 0:n.length)>0?n[0].income:0,".00 \u0433\u0440\u043d."]})]})]})},J=function(){var e=(0,_.s0)(),n=(0,o.useState)((new Date).getMonth()),t=(0,r.Z)(n,2),c=t[0],s=t[1],h=(0,o.useState)(2022),b=(0,r.Z)(h,2),g=b[0],j=b[1],N=(0,d.v9)((function(e){return e.balanceReducer})),k=N.data,y=(0,d.v9)(T.LP),B=(0,d.I0)(),w=(0,d.v9)((function(e){return e.balanceReducer})),C=w.category,Z=w.isLoading,R=function(){var e=(0,a.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+y}},e.prev=1,B((0,v.wt)(!0)),e.next=5,l().get("/transaction/report/".concat(g,"/").concat(c+1),n);case 5:t=e.sent,B((0,v.Vj)(t.data)),B((0,v.wt)(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),B((0,v.wt)(!1)),B((0,v.Tl)(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){R()}),[c,g,B]),(0,o.useEffect)((function(){k&&(B((0,v.t$)(k.sumByCategoryIncome)),B((0,v.B7)(k.sumByCategoryConsumption)),B((0,v.cn)(k.incomeTransaction)),B((0,v.Qy)(k.consumptionTransaction)),console.log(k))}),[Z]);var P=function(){B((0,v.Nc)()),s(c-1),B((0,v.P8)(0)),0===c&&(s(11),j(g-1))},A=function(){B((0,v.Nc)()),s(c+1),B((0,v.P8)(0)),11===c&&(s(0),j(g+1))};return(0,p.jsxs)(q._u,{children:[(0,p.jsxs)("div",{className:m.container,children:[(0,p.jsxs)("button",{className:m.button__back,onClick:function(){B((0,v.Nc)()),e("/")},children:[(0,p.jsx)(f.Z,{iconName:"goArrow"}),(0,p.jsx)("span",{className:m.button__name,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}),(0,p.jsx)(u.Z,{queries:{small:"(max-width: 767px)",medium:"(min-width: 768px)"},children:function(e){return(0,p.jsxs)(o.Fragment,{children:[e.small&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:m.small__container,children:[(0,p.jsx)("p",{className:m.date__description,children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434:"}),(0,p.jsxs)("div",{className:m.datePicker__container,children:[(0,p.jsx)("button",{className:m.datePicker__button,onClick:P,children:(0,p.jsx)(f.Z,{iconName:"leftArrow"})}),(0,p.jsx)(x,{thisYear:g,thisMonth:c}),(0,p.jsx)("button",{className:m.datePicker__button,onClick:A,children:(0,p.jsx)(f.Z,{iconName:"rightArrow"})})]})]}),(0,p.jsx)(z.Z,{hide:m.button__balance,style:m.balance__style})]}),e.medium&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(z.Z,{hide:m.button__balance}),(0,p.jsxs)("div",{className:m.small__container,children:[(0,p.jsx)("p",{className:m.date__description,children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434:"}),(0,p.jsxs)("div",{className:m.datePicker__container,children:[(0,p.jsx)("button",{className:m.datePicker__button,onClick:P,children:(0,p.jsx)(f.Z,{iconName:"leftArrow"})}),(0,p.jsx)(x,{thisYear:g,thisMonth:c}),(0,p.jsx)("button",{className:m.datePicker__button,onClick:A,children:(0,p.jsx)(f.Z,{iconName:"rightArrow"})})]})]})]})]})}})]}),(0,p.jsx)(U,{children:(0,p.jsx)(H,{})}),(0,p.jsx)(U,{children:(0,p.jsx)(F,{})}),(0,p.jsx)(U,{children:(0,p.jsx)(M,{category:C,year:g,month:c})})]})}},3553:function(e,n,t){t.d(n,{f:function(){return a},V:function(){return r}});var a=function(e){return e.transactions.transactionsReducer},r=function(e){return e.transactions.isLoading}}}]);
//# sourceMappingURL=report-page.554c83f6.chunk.js.map